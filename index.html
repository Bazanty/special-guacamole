<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Afacad:wght@400;700&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <title>Countdown Timer</title>
    <style>
      /* Your existing CSS */
      * {
        margin: 0;
        padding: 0;
        font-family: "Afacad", sans-serif;
        box-sizing: border-box;
      }

      .video-backdrop video {
        width: 100%;
        height: 100vh;
        object-fit: cover;
        z-index: 0;
        position: fixed;
        filter: brightness(0.6);
      }

      .all-body-content {
        z-index: 2;
        position: relative;
      }

      .label-logo {
        display: grid;
        place-content: center;
        height: 100vh;
      }

      .list-container {
        display: flex;
        align-content: center;
        justify-content: center;
        background: white;
        margin: 0;
        height: 97vh;
        border-radius: 49px 49px 1px 1px;
        align-content: center;
      }

      .bay-woods {
        font-size: 101px;
        font-weight: bold;
        color: #236f00;
        background: #fffefe;
        padding: 16px 83px;
        border-radius: 145px;
      }

      .plac-centrer {
        width: 76%;
        display: grid;
        place-content: center;
      }

      .count-down {
        display: flex;
        align-content: center;
        justify-content: center;
      }

      .count-down-text {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 9px;
      }

      .box-count {
        display: grid;
        text-align: center;
        background: black;
        padding: 20px;
        color: white;
        border-radius: 6px;
        box-shadow: 0 22px 36px gray;
      }

      .date-num {
        font-size: 41px;
        font-weight: bolder;
        transition: transform 0.6s; /* Animation duration */
      }

      .flipping {
        transform: rotateX(180deg);
      }

      .date-text {
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <div class="video-backdrop">
      <video src="media/background.mp4" loop autoplay muted></video>
    </div>
    <div class="all-body-content">
      <div class="label-logo">
        <span class="bay-woods">BayWoods</span>
      </div>
      <div class="list-container">
        <div class="plac-centrer">
          <div class="count-down">
            <span class="count-down-text">
              <div class="box-count">
                <div class="date-num" id="month">2</div>
                <div class="date-text">Months</div>
              </div>
              <div class="box-count">
                <div class="date-num" id="days">0</div>
                <div class="date-text">Days</div>
              </div>
              <div class="box-count">
                <div class="date-num" id="hours">0</div>
                <div class="date-text">Hours</div>
              </div>
              <div class="box-count">
                <div class="date-num" id="minutes">0</div>
                <div class="date-text">Minutes</div>
              </div>
              <div class="box-count">
                <div class="date-num" id="seconds">0</div>
                <div class="date-text">Seconds</div>
              </div>
            </span>
          </div>
        </div>
      </div>
    </div>

    <script>
      const countdown = () => {
        const endDate = new Date();
        endDate.setMonth(endDate.getMonth() + 2); // Set to 2 months from now

        const now = new Date();
        const timeRemaining = endDate - now;

        if (timeRemaining <= 0) {
          clearInterval(interval);
          document.querySelector(".count-down-text").innerHTML =
            "<div>Time's up!</div>";
          return;
        }

        const seconds = Math.floor((timeRemaining / 1000) % 60);
        const minutes = Math.floor((timeRemaining / 1000 / 60) % 60);
        const hours = Math.floor((timeRemaining / 1000 / 60 / 60) % 24);
        const days = Math.floor((timeRemaining / 1000 / 60 / 60 / 24) % 30); // Days
        const months = Math.floor(days / 30); // Approximate month count

        // Update the DOM with flipping animation
        updateWithAnimation("#month", months);
        updateWithAnimation("#days", days % 30); // Remaining days
        updateWithAnimation("#hours", hours);
        updateWithAnimation("#minutes", minutes);
        updateWithAnimation("#seconds", seconds);
      };

      const updateWithAnimation = (selector, newValue) => {
        const element = document.querySelector(selector);
        element.classList.add("flipping");
        setTimeout(() => {
          element.textContent = newValue;
          element.classList.remove("flipping");
        }, 600); // Match this to the CSS transition duration
      };

      // Update countdown every second
      const interval = setInterval(countdown, 1000);
      countdown(); // Initial call to display the countdown immediately
    </script>
  </body>
</html>
